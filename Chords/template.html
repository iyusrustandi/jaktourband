<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      button {
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
      }

      .guide {
        color: #000;
        font-family: Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 14px;
      }

      .chord {
        color: #f61414;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 12px;
        margin: 5px 0;
      }

      .lyric {
        color: #000;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14px;
        margin: 5px 0;
        line-height: 1.8;
      }

      .lyric.bold {
        font-weight: bold;
      }

      .lyric.italic {
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <button onclick="transposeChords(1)">Transpose Up</button>
    <button onclick="transposeChords(-1)">Transpose Down</button>

    <pre>
<span class="guide">Intro   :   </span> <span data-name="F" class="chord">F</span>  <span data-name="F" class="chord">F</span>
                                  
<span class="guide">Verse</span>
<span data-name="F" class="chord">F</span>         <span data-name="Em7" class="chord">Em7</span>     <span data-name="A7" class="chord">A7</span>                 <span data-name="Dm" class="chord">Dm</span>     <span data-name="Dm/C" class="chord">Dm/C</span>
<span class="lyric">Yesterday, all my troubles seemed so far away</span>
<span data-name="Bb" class="chord">Bb</span>       <span data-name="C7" class="chord">C7</span>                     <span data-name="F" class="chord">F</span>            <span data-name="F/E" class="chord">F/E</span> <span data-name="Dm" class="chord">Dm</span>  <span data-name="G7" class="chord">G7</span>       <span data-name="Bb" class="chord">Bb</span> <span data-name="F" class="chord">F</span> <span data-name="F" class="chord">F</span>
<span class="lyric">Now it looks as though they're here to stay, oh I believe in yesterday</span>

<span class="guide">Verse 2</span>
<span data-name="F" class="chord">F</span>        <span data-name="Em7" class="chord">Em7</span>      <span data-name="A7" class="chord">A7</span>             <span data-name="Dm" class="chord">Dm</span>         <span data-name="Dm/C" class="chord">Dm/C</span>
<span class="lyric">Suddenly, I'm not half the man I used to be</span>
<span data-name="Bb" class="chord">Bb</span>         <span data-name="C7" class="chord">C7</span>             <span data-name="F" class="chord">F</span>        <span data-name="F/E" class="chord">F/E</span> <span data-name="Dm" class="chord">Dm</span>   <span data-name="G7" class="chord">G7</span>       <span data-name="Bb" class="chord">Bb</span> <span data-name="F" class="chord">F</span> <span data-name="F" class="chord">F</span>
<span class="lyric">There's a shadow hanging over me, oh yesterday came suddenly</span>
      

<span class="guide">Chorus</span>
<span data-name="Em7" class="chord">Em7</span> <span data-name="A7" class="chord">A7</span>   <span data-name="Dm" class="chord">Dm</span>  <span data-name="Dm/C" class="chord">Dm/C</span> <span data-name="Bb" class="chord">Bb</span>         <span data-name="Gm" class="chord">Gm</span>        <span data-name="C" class="chord">C</span>        <span data-name="F" class="chord">F</span>
<span class="lyric">Why she  had to   go I don't know, she wouldn't say</span>
<span data-name="Em7" class="chord">Em7</span> <span data-name="A7" class="chord">A7</span>   <span data-name="Dm" class="chord">Dm</span>  <span data-name="Dm/C" class="chord">Dm/C</span>  <span data-name="Bb" class="chord">Bb</span>           <span data-name="Gm" class="chord">Gm</span>       <span data-name="C" class="chord">C</span>     <span data-name="F" class="chord">F</span>
<span class="lyric">I   said something wrong, now I long for yesterday</span>
     

<span class="guide">Verse 3</span>
<span data-name="F" class="chord">F</span>         <span data-name="Em7" class="chord">Em7</span>       <span data-name="A7" class="chord">A7</span>           <span data-name="Dm" class="chord">Dm</span>          <span data-name="Dm/C" class="chord">Dm/C</span>
<span class="lyric">Yesterday, love was such an easy game to play</span>
<span data-name="Bb" class="chord">Bb</span>     <span data-name="C7" class="chord">C7</span>              <span data-name="F" class="chord">F</span>          <span data-name="F/E" class="chord">F/E</span> <span data-name="Dm" class="chord">Dm</span>  <span data-name="G7" class="chord">G7</span>       <span data-name="Bb" class="chord">Bb</span> <span data-name="F" class="chord">F</span> <span data-name="F" class="chord">F</span>
<span class="lyric">Now I need a place to hide away, oh  I believe in yesterday</span>
      

[Chorus]
<span data-name="Em7" class="chord">Em7</span> <span data-name="A7" class="chord">A7</span>   <span data-name="Dm" class="chord">Dm</span>  <span data-name="Dm/C" class="chord">Dm/C</span> <span data-name="Bb" class="chord">Bb</span>           <span data-name="Gm" class="chord">Gm</span>       <span data-name="C" class="chord">C</span>       <span data-name="F" class="chord">F</span>
<span class="lyric">Why she  had to   go I don't know, she wouldn't say</span>
<span data-name="Em7" class="chord">Em7</span> <span data-name="A7" class="chord">A7</span>   <span data-name="Dm" class="chord">Dm</span>  <span data-name="Dm/C" class="chord">Dm/C</span>  <span data-name="Bb" class="chord">Bb</span>           <span data-name="Gm" class="chord">Gm</span>       <span data-name="C" class="chord">C</span>     <span data-name="F" class="chord">F</span>
<span class="lyric">I   said something wrong, now I long for yesterday</span>
    </pre>

    <script>
      const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'Bb', 'B'];
      const flatNotes = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];

      function transposeChords(step) {
        document.querySelectorAll('span[data-name]').forEach((span) => {
          const chord = span.getAttribute('data-name');
          const baseChord = chord.match(/[A-G][#b]?/)[0];
          const suffix = chord.slice(baseChord.length);

          let noteIndex = notes.indexOf(baseChord);
          if (noteIndex === -1) {
            noteIndex = flatNotes.indexOf(baseChord);
            if (noteIndex === -1) return; // Skip if no valid note is found
          }

          const transposedIndex = (noteIndex + step + 12) % 12;
          const transposedNote = notes[transposedIndex];
          span.textContent = transposedNote + suffix;
          span.setAttribute('data-name', transposedNote + suffix);
        });
      }
    </script>
  </body>
</html>
